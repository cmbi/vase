<html>
<head>
<title>The source code</title>
<link href="../resources/prettify/prettify.css" type="text/css"
	rel="stylesheet" />
<script type="text/javascript" src="../resources/prettify/prettify.js"></script>
</head>
<body onload="prettyPrint();">
	<pre class="prettyprint lang-js">/* $Id: GetText.js 3825 2009-05-26 09:37:56Z suzuki $
 * vim:sw=2:ts=8:sts=2:et:ft=javascript
 *
 * �ʲ������Ҽڤ��ơ�prototype.js ��¸���� Ext ��¸�ˤ��ޤ�����
 * http://blog.bz2.jp/archives/2006/05/javascript-5.html 
 *
 * ��������bindTextDomain ����Ѥ��ƥ����Ф���ưŪ�˼���������
 * ľ�� <domain>.js �򥤥󥯥롼�ɤ� setText ���Ѥ�����ϡ�
 * Ext ��ɬ�פ���ޤ���
 */

<div id="cls-Locale"></div>/**
 * @class Locale
 * �?��������륪�֥�������
 * ���٤� 1 �Ĥθ��줷�����ѤǤ��ޤ���
 * @singleton
 * @constructor
 */
Locale = new (function() {

  this.messages = {};

  <div id="method-Locale-setText"></div>/**
   * �?����ϥå������Ͽ����
   * Ʊ��Υ�����ɤ����ä����ϡ���񤭤���ޤ���
   * �̾�� <pre>
			<locale>/LC_MESSAGES/<domain>.js
		
		</pre> ��ǸƤӽФ���ޤ���
   * @param {String} locale_array [[<en>, <locale_text>], ...] ������
   * @param {String/Array} locale ���åȤ������
   * @return {Bool} ��Ͽ���줿��
   */
  this.setText = function(locale_array, locale) {
    var lang = navigator.language || navigator.userLanguage || navigator.systemLanguage;
    if (typeof locale == "string") { locale = locale.split(','); }
    if (typeof locale != "undefined" && typeof locale.indexOf == "function" && locale.indexOf(lang) < 0) { return false; }
    for (var i = 0, len = locale_array.length; i < len; i++) {
      var loc = locale_array[i];
      this.messages[loc[0]] = loc[1];
    }
    return true;
  };

	<div id="method-Locale-getText"></div>/**
	 * ��������
	 * �ϥå���������Ǥ���
   * @param {String} str ������ʸ����
   * @return {String} ������ʸ����
	 */
  this.getText = function(str) {
    return this.messages[str] || str;
  };

	<div id="method-Locale-getTextNoop"></div>/**
	 * ���������Ͽ����
	 * gettext ����ѥ�����ˤΤ��Ѥ����ºݤ������� getText �ˤƹԤ��ޤ���
   * @param {String} str GetText ����Ͽ���륭�����
   * @return {String} ��Ͽ���줿�������
	 */
  this.getTextNoop = function(str) {
    return str;
  };
})();

<div id="method-Locale-_"></div>/**
 * ����Ū�� gettext �Υ����ꥢ��
 * �������롣
 * @param {String} ������ʸ����
 * @return {String} ������ʸ����
 */
_ = function(str) { return Locale.getText(str); };

<div id="method-Locale-N_"></div>/**
 * ����Ū�� gettext �Υ����ꥢ��
 * ����������ɤ��������������������Τ�ΤϤ��ʤ���
 * @param {String} ��Ͽ���륭�����
 * @return {String} ��Ͽ�奭�����
 */
N_ = function(str) { return Locale.getTextNoop(str); };

	
	</pre>
</body>
</html>