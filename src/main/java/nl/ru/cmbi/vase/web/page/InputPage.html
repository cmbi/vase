<!DOCTYPE html>
<html lang="en">
	<body>
	<wicket:extend>
	
		<script type="text/javascript" src="jobs.js"></script>
		<script type="text/javascript">
		
			// Tell the nav-bar that this is the active page
			$('#nav-input').addClass('active');
			
			function submitStructure() {
				
				var structure = document.forms["structure-input"]["pdbfile"].value ;
				
				submitJob ( structure );
				
				return false; // we want to stay on this page
			}
			
		</script>
		
		<div class="row equal">
		
			<div class="col-md-8">
				<div class="panel panel-default">
				  <div class="panel-heading">Input PDB</div>
				  <div class="panel-body">
				  
				  	<form name="structure-input" action="/input" method="POST" onsubmit="return submitStructure();">
				  	
						<textarea id="pdb-input" class="pdb-input" name="pdbfile" required="required"
							style="width:100%;height:400px"
							placeholder="Enter the contents of a PDB file here.." />
							
						<input type="submit" value="Submit" >
					</form>
				  </div>
				</div>
			</div>
			
			<div class="col-md-4">
				<div class="panel panel-default">
				  <div class="panel-heading">Jobs</div>
				  <div class="panel-body" style="overflow-y:auto">
				  
				  	<table id="joblisting" class="table" >
				  		<thead>
				  			<tr>
				  				<th></th>
				  				<th>Job ID</th>
				  				<th>Status</th>
				  				<th></th>
				  			</tr>
				  		</thead>
				  		<tbody>
				  		</tbody>
				  	</table>
				  	
				  	<script type="text/javascript">
				  	
						initJobPage();
						
						// poll every 2 seconds
						setInterval(pollJobs,2000);
					
				  	</script>
				  </div>
				</div>
			</div>
		</div>
		
	</wicket:extend>	
	</body>
</html>
